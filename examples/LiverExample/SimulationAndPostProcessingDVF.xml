<MSMLScene gravity="0 0 -9.81">
	<object name="liver">
		<physicsElements>
			<materialRegion name="liverMaterial"  >
            <indexGroup indices="@bodyRegion"/>   
				<linearElastic youngModulus="3000" poissonRatio="0.49"/>			
				<mass density="0.6"/>
			</materialRegion>

						
            <mesh>
                <linearTetMesh name="liverMesh" filename="LiverXSTet4.vtk" >                   
                </linearTetMesh>
			</mesh>

			<indexGroup name="bodyRegion" indices="@bodyToIndexGroup">
				<boxROIToIndexOperator name="bodyToIndexGroup" box="-76 76 -609 133 245 -417" mesh="@liverMesh" select="elements"/>					
			</indexGroup >
			
			<indexGroup name="constraintRegion" indices="@bottomToIndexGroup" >			
                <boxROIToIndexOperator name="bottomToIndexGroup" box="27.1 81.5 -599 99 208.1 -484" mesh="@liverMesh" select="points"/>
         </indexGroup >
            
		</physicsElements>
      
      <simulationSteps>
         <step name="initial" dt="0.05" timesteps="100" >
           <constraintRegion name="liverConstraints">
            <indexGroup indices="@constraintRegion"/>   
				<fixedConstraints name="liverSide" />			
			  </constraintRegion>
         </step>      
      </simulationSteps>
      
   <postProcessing>
      <displacementOutputRequest name="LiverXSTet4Def" timestep="1"/>
   </postProcessing>

	</object>
   
   <solver>
      <timeIntegration>dynamicImplicitEuler</timeIntegration>
      <linearSolver>iterativeCG</linearSolver>
      <processingUnit>CPU</processingUnit>
   </solver>
   
   <postProcessing>
   <image name="outputDVF" filename="@dvf1">
	   <generateDVF name="dvf1" RefMesh="@liverMesh"  DeformedMesh="@LiverXSTet4Def" DVF="dvf.vtk"/>
	</image>
   </postProcessing>

   
</MSMLScene>
